1. 거리센서에서 받은 거리 < 100cm
2. 1초당 count + 1
3. count > 2 일 경우에 MQTT Broker에 송신(int 1)(default = 0)
4. int 1인 경우 count가 추가되어도 송신x
5. 거리 > 100cm이면 count = 0
-----------------------------------------------------------------
broker에서 int 1을 받은 경우
휴대폰으로 boolean true 송신
-----------------------------------------------------------------
휴대폰
1. true를 받으면 알림
2. Broker로 act:Cam 송신
-----------------------------------------------------------------
broker
act:Cam을 받아서
라즈베리파이에 연동된 Cam Act
-----------------------------------------------------------------
raspi
cam 센서에서 jpg파일 생성
생성한 파일을 broker으로 송신
-----------------------------------------------------------------
broker
raspi에서 받은 jpg를 휴대폰으로 송신
-----------------------------------------------------------------
휴대폰
받은 jpg를 LocalDateTime.jpg로 저장
-----------------------------------------------------------------
-----------------------------------------------------------------
휴대폰
음성으로 출력할 txt 저장 및 broker로 송신
-----------------------------------------------------------------
broker
받은 txt raspi로 송신
-----------------------------------------------------------------
raspi
txt -> mp3로 tts 출력
-----------------------------------------------------------------
-----------------------------------------------------------------
raspi
녹음 버튼을 누르면
cam 동작
h264 확장자의 동영상 생성 및 broker으로 송신
-----------------------------------------------------------------
broker
받은 h264를 휴대폰으로 송신
-----------------------------------------------------------------
휴대폰
h264 인코딩하여 LocalDateTime.mp4로 저장